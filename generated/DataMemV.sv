// Generated by CIRCT firtool-1.62.0
module DataMemV(

	input [31:0] addr,
	input [7:0]  wmask,
	input [31:0] dataIn,
	input 		 wrEn,
	input 		 valid,

	output [31:0] dataOut
);
reg[31:0] rdata;
import "DPI-C" function int unsigned pmem_read(input int unsigned raddr);
import "DPI-C" function void pmem_write(
	input int unsigned waddr, input int unsigned wdata, input byte wmask);	
always @(*) begin
	if(valid) begin
		rdata = pmem_read(addr);
		if(wrEn) begin
			pmem_write(addr, dataIn, wmask);
		end
	end
	else begin
		rdata = 32'd0;
	end
end
assign dataOut = rdata;
endmodule
	
